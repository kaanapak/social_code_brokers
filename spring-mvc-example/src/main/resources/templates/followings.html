<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Followed Users</title>
    <script th:inline="javascript">
      const splitByPunctuations = (str = '') => {
        let res = [];
        res = str.split('*');
        for(let i = 0; i < res.length; i++){
          res[i] = res[i].split('|');
        };
        return res;
      };
     username=[[${user.getUsername()}]]
      following_list=splitByPunctuations([[${user.toStringFollowingUsers()}]]);

      function sortAlphabetically() {
        following_list.sort((a, b) => {
          return a.item - b.item;
        });
        return following_list
      }
      function sortLastAdded() {
        following_list.sort((a, b) => {
          return a.time - b.time;
        });
        return following_list
      }
      function sortScore() {
        following_list.sort((a, b) => {
          return a.score - b.score;
        });
        return following_list
      }
      function listFollowings() {
        var list ;
        for(int i=0;i<following_list.length;i++) {

        }
      }
    </script>
    <link rel="stylesheet" href="./../static/css/mainPage.css" />
  </head>
  <body style="background-image: url(https://i.pinimg.com/736x/8d/cd/b5/8dcdb56e3001ea29f34a30a5a5cfb631.jpg)">
  <div>
  <div class="navbar">
    <ul>
      <form method="post" action="/mainPage" >
        <input type='hidden' name='username' th:value="${user.getUsername()}" >
        <input type="submit" value="Home">
      </form>
      <form method="post" action="/followings" >
        <input type='hidden' name='username' th:value="${user.getUsername()}" >
        <input type="submit" value="Following Users">
      </form>
      <form method="post" action="/starredProjects">
        <input type='hidden' name='username' th:value="${user.getUsername()}" >
        <input type="submit" value="Starred Projects">
      </form>
      <li><button id="invite">Invite User</button></li>
      <li style="float: right"><a>Welcome <script>document.write(username)</script></a></li>
    </ul>
  </div>
  <div class="wrap">
    <div class="search">
       <input type="text" class="searchTerm" placeholder="Search user">
       <button type="submit" class="searchButton">Submit</button>
    </div>
    <h1>Followed Users</h1>
    <div class="filterContainer">
      <h3>Filters:</h3>
      <button type="submit" onclick="sortAlphabetically()" class="filterButton">Alphabetically</button>
      <button type="submit" onclick="sortLastAdded()" class="filterButton">Last Added</button>
      <button type="submit" onclick="sortScore()" class="filterButton">Score</button>
  </div>
    <div class="followingsContainer">
      <div class="profilePicture">
      </div>
      <br>
        <h1>USERNAME - SCORE</h1>
        
    </div>
 </div>
</div>
</body>
</html>
